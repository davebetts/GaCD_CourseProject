quit()
library(swirl)
swirl()
quit()
dir()
setwddir("./GaCD_CourseProject")
setwd("./GaCD_CourseProject")
getwd()
dir()
fileUrl = "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
download.file(fileUrl, destfile = "CP.zip")
unzip("CP.zip")
xtrain <- read.table("./UCI HAR Dataset/train/X_train.txt", colClasses = "numeric", header = FALSE)
ytrain <- read.table("./UCI HAR Dataset/train/y_train.txt", colClasses = "numeric", header = FALSE)
colnames(ytrain) <- "ID"
strain <- read.table("./UCI HAR Dataset/train/subject_train.txt", colClasses = "factor", header = FALSE)
colnames(strain) <- "participant"
xtest <- read.table("./UCI HAR Dataset/test/X_test.txt", colClasses = "numeric", header = FALSE)
ytest <- read.table("./UCI HAR Dataset/test/y_test.txt", colClasses = "numeric", header = FALSE)
colnames(ytest) <- "ID"
stest <- read.table("./UCI HAR Dataset/test/subject_test.txt", colClasses = "factor", header = FALSE)
colnames(stest) <- "participant"
full <- rbind(xtrain, xtest)
fullact <- rbind(ytrain, ytest)
fullsubj <- rbind(strain, stest)
feat <- read.table("./UCI HAR Dataset/features.txt", header = FALSE)
featnames <- as.vector(feat[,2])
colnames(full) <- featnames
mean_std_subset <- full[,c(grep("*mean", names(full)), grep("*std", names(full)))]
subj_act_full <- cbind(fullsubj, fullact, full)
act_labels <- read.table("./UCI HAR Dataset/activity_labels.txt", colClasses = "factor", header = FALSE)
colnames(act_labels) <- c("ID", "activity")
namedsubj_act_full <- merge(alabels, subj_act_full, by.x = "ID", by.y = "ID", all = TRUE)
namedsubj_act_full <- merge(act_labels, subj_act_full, by.x = "ID", by.y = "ID", all = TRUE)
namedsubj_act_full <- namedsubj_act_full[,c(3,2,4:82)]
oldnames <- names(namedsubj_act_full)
newnames <- gsub("BodyBody", "Body", oldnames)
newnames <- gsub("tBodyAcc", "BodyAccelerometerTime", newnames)
newnames <- gsub("tGravityAcc", "GravityAccelerometerTime", newnames)
newnames <- gsub("tBodyGyro", "BodyGyroscopeTime", newnames)
newnames <- gsub("TimeJerk", "JerkTime", newnames)
newnames <- gsub("fBodyAcc", "BodyAccelerometerFrequency", newnames)
newnames <- gsub("fBodyGyro", "BodyGyroscopeFrequency", newnames)
newnames <- gsub("Mag", "Magnitude", newnames)
newnames <- gsub("FrequencyJerk", "JerkFrequency", newnames)
newnames <- gsub("TimeMagnitude", "MagnitudeTime", newnames)
newnames <- gsub("\\-mean\\(\\)\\-X", "_X_mean", newnames)
newnames <- gsub("\\-mean\\(\\)\\-Y", "_Y_mean", newnames)
newnames <- gsub("\\-mean\\(\\)\\-Z", "_Z_mean", newnames)
newnames <- gsub("\\-std\\(\\)\\-X", "_X_std", newnames)
newnames <- gsub("\\-std\\(\\)\\-Y", "_Y_std", newnames)
newnames <- gsub("\\-std\\(\\)\\-Z", "_Z_std", newnames)
newnames <- gsub("\\-mean\\(\\)", "_mean", newnames)
newnames <- gsub("\\-std\\(\\)", "_std", newnames)
newnames <- gsub("\\-meanFreq\\(\\)\\-X", "_X_meanFrequency", newnames)
newnames <- gsub("\\-meanFreq\\(\\)\\-Y", "_Y_meanFrequency", newnames)
newnames <- gsub("\\-meanFreq\\(\\)\\-Z", "_Z_meanFrequency", newnames)
newnames <- gsub("\\-meanFreq\\(\\)", "_meanFrequency", newnames)
colnames(namedsubj_act_full) <- newnames
newsort <- namedsubj_act_full[,-c(1:2)]
newsort <- newsort[,sort(names(newsort))
]
View(newsort)
oldnames <- names(namedsubj_act_full)
newnames <- gsub("BodyBody", "Body", oldnames)
newnames <- gsub("tBodyAcc", "BodyAccelerometerTime", newnames)
newnames <- gsub("tGravityAcc", "GravityAccelerometerTime", newnames)
newnames <- gsub("tBodyGyro", "BodyGyroscopeTime", newnames)
newnames <- gsub("TimeJerk", "JerkTime", newnames)
newnames <- gsub("fBodyAcc", "BodyAccelerometerFrequency", newnames)
newnames <- gsub("fBodyGyro", "BodyGyroscopeFrequency", newnames)
newnames <- gsub("Mag", "Magnitude", newnames)
newnames <- gsub("FrequencyJerk", "JerkFrequency", newnames)
newnames <- gsub("TimeMagnitude", "MagnitudeTime", newnames)
newnames <- gsub("\\-mean\\(\\)\\-X", "_X_mean", newnames)
newnames <- gsub("\\-mean\\(\\)\\-Y", "_Y_mean", newnames)
newnames <- gsub("\\-mean\\(\\)\\-Z", "_Z_mean", newnames)
newnames <- gsub("\\-std\\(\\)\\-X", "_X_std", newnames)
newnames <- gsub("\\-std\\(\\)\\-Y", "_Y_std", newnames)
newnames <- gsub("\\-std\\(\\)\\-Z", "_Z_std", newnames)
newnames <- gsub("\\-mean\\(\\)", "_mean", newnames)
newnames <- gsub("\\-std\\(\\)", "_std", newnames)
newnames <- gsub("\\-meanFreq\\(\\)\\-X", "_X_meanFrequency", newnames)
newnames <- gsub("\\-meanFreq\\(\\)\\-Y", "_Y_meanFrequency", newnames)
newnames <- gsub("\\-meanFreq\\(\\)\\-Z", "_Z_meanFrequency", newnames)
newnames <- gsub("\\-meanFreq\\(\\)", "_meanFrequency", newnames)
colnames(namedsubj_act_full) <- newnames
View(namedsubj_act_full)
final <- cbind(namedsubj_act_full[,c(1:2)],newsort)
View(final)
newsort <- namedsubj_act_full[,-c(1:2)]
View(newsort)
newsort <- newsort[,sort(names(newsort))]
mean_std_subset <- full[,c(grep("*mean", names(full)), grep("*std", names(full)))]
View(full)
mean_std_subset <- full[,c(grep("*mean", names(full)), grep("*std", names(full)))]
View(mean_std_subset)
View(feat)
names(mean_std_subset)
subj_act_full <- cbind(fullsubj, fullact, full)
names(subj_act_full) == names(mean_std_subset)
names(subj_act_full[,-c(1:2)]) == names(mean_std_subset)
names(subj_act_full)
subj_act_full <- cbind(fullsubj, fullact, full)
View(full)
subj_act_full <- cbind(fullsubj, fullact, mean_std_subset)
View(subj_act_full)
act_labels <- read.table("./UCI HAR Dataset/activity_labels.txt", colClasses = "factor", header = FALSE)
colnames(act_labels) <- c("ID", "activity")
namedsubj_act_full <- merge(act_labels, subj_act_full, by.x = "ID", by.y = "ID", all = TRUE)
namedsubj_act_full <- namedsubj_act_full[,c(3,2,4:82)]
oldnames <- names(namedsubj_act_full)
newnames <- gsub("BodyBody", "Body", oldnames)
newnames <- gsub("tBodyAcc", "BodyAccelerometerTime", newnames)
newnames <- gsub("tGravityAcc", "GravityAccelerometerTime", newnames)
newnames <- gsub("tBodyGyro", "BodyGyroscopeTime", newnames)
newnames <- gsub("TimeJerk", "JerkTime", newnames)
newnames <- gsub("fBodyAcc", "BodyAccelerometerFrequency", newnames)
newnames <- gsub("fBodyGyro", "BodyGyroscopeFrequency", newnames)
newnames <- gsub("Mag", "Magnitude", newnames)
newnames <- gsub("FrequencyJerk", "JerkFrequency", newnames)
newnames <- gsub("TimeMagnitude", "MagnitudeTime", newnames)
newnames <- gsub("\\-mean\\(\\)\\-X", "_X_mean", newnames)
newnames <- gsub("\\-mean\\(\\)\\-Y", "_Y_mean", newnames)
newnames <- gsub("\\-mean\\(\\)\\-Z", "_Z_mean", newnames)
newnames <- gsub("\\-std\\(\\)\\-X", "_X_std", newnames)
newnames <- gsub("\\-std\\(\\)\\-Y", "_Y_std", newnames)
newnames <- gsub("\\-std\\(\\)\\-Z", "_Z_std", newnames)
newnames <- gsub("\\-mean\\(\\)", "_mean", newnames)
newnames <- gsub("\\-std\\(\\)", "_std", newnames)
newnames <- gsub("\\-meanFreq\\(\\)\\-X", "_X_meanFrequency", newnames)
newnames <- gsub("\\-meanFreq\\(\\)\\-Y", "_Y_meanFrequency", newnames)
newnames <- gsub("\\-meanFreq\\(\\)\\-Z", "_Z_meanFrequency", newnames)
newnames <- gsub("\\-meanFreq\\(\\)", "_meanFrequency", newnames)
colnames(namedsubj_act_full) <- newnames
newsort <- namedsubj_act_full[,-c(1:2)]
newsort <- newsort[,sort(names(newsort))]
final <- cbind(namedsubj_act_full[,c(1:2)],newsort)
View(final)
write.csv(final,"final.csv",row.names=F)
library(dplyr)
by_subj_act <- final %>% group_by(participant, activity)
tidy_data <- by_subj_act %>% summarise_each(funs(mean))
write.table(tidy_data,"tidy_data.txt",row.names=FALSE)
quit()
